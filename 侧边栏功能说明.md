# 侧边栏功能说明

## 功能概述

在关键词优化和产品描述生成页面的右侧,新增了一个信息侧边栏,用于向用户展示服务说明文案。侧边栏支持**点击复制**功能,方便用户快速复制文案。

## 功能特性

### 1. 响应式设计
- **桌面端**: 侧边栏固定显示在右侧(宽度 400px)
- **移动端**: 自动隐藏,不占用屏幕空间
- **布局**: 使用 CSS Grid 实现自适应布局

### 2. 点击复制功能
- **复制按钮**: 右上角有专门的复制按钮
- **点击文案**: 直接点击文案内容也可复制
- **视觉反馈**: 复制成功后显示"已复制"提示(2秒后自动消失)

### 3. 不同内容展示

#### 关键词优化页面
```
老板 您好 这是店铺所有菜品关键词优化 关键词优化方案目的在于:
增加店铺在美团平台的搜索曝光度
提高潜在顾客点击进入店铺的几率
优化菜品描述,激发顾客的购买欲望
突出店铺特色,提升与竞争对手的差异化
针对不同时段和节假日,调整关键词策略
我们的目标是通过精准的关键词布局,让您的店铺在激烈的竞争中脱颖而出,吸引更多目标客户,最终实现销售额的稳步增长。
您看下,没问题我们就上线了。
```

#### 产品描述生成页面
```
老板您好,这是为店铺所有菜品设计的描述文案,当顾客点单时会直接呈现在他们眼前。这些描述不仅详细介绍了每道产品的特色与美味,还能有效吸引顾客的注意力,从而大大提高下单转化率。我们的目的是通过生动的文字,让顾客在下单前就能感受到菜品的诱人之处,激发他们的食欲和购买欲望。如果您觉得没有问题,我们就可以上线使用了。
```

## 技术实现

### 组件结构

**文件位置**: `components/InfoSidebar.tsx`

```typescript
interface InfoSidebarProps {
  type: 'keyword' | 'description';
}
```

### 核心功能

#### 1. 复制到剪贴板
```typescript
const handleCopy = async () => {
  try {
    await navigator.clipboard.writeText(text);
    setCopied(true);
    setTimeout(() => setCopied(false), 2000);
  } catch (err) {
    console.error('复制失败:', err);
  }
};
```

#### 2. 粘性定位
```css
position: sticky;
top: 24px; /* 距离顶部 24px */
```
侧边栏会在滚动时保持在视口内,方便随时查看和复制。

#### 3. 渐变背景
```css
background: linear-gradient(to bottom right, #eff6ff, #eef2ff);
```
使用蓝色到靛蓝色的渐变,视觉效果更柔和。

### 集成方式

在 `ProductOptimizer.tsx` 中:

```typescript
// 导入组件
import InfoSidebar from './InfoSidebar';

// 布局结构
<div className="grid grid-cols-1 lg:grid-cols-[1fr_400px] gap-6">
  {/* 左侧主内容 */}
  <div className="space-y-6">
    {/* 输入区域、结果展示等 */}
  </div>

  {/* 右侧侧边栏 */}
  <div className="hidden lg:block">
    <InfoSidebar type={type} />
  </div>
</div>
```

## 使用说明

### 用户操作

1. **查看文案**
   - 打开关键词优化或产品描述生成页面
   - 右侧自动显示相应的说明文案

2. **复制文案 - 方式一**
   - 点击右上角的"复制"按钮
   - 看到"已复制"提示表示成功

3. **复制文案 - 方式二**
   - 直接点击文案内容区域
   - 整段文案会自动复制到剪贴板

4. **粘贴使用**
   - 在任意位置(如微信、文档)按 Ctrl+V 粘贴
   - 文案会保持原有的换行格式

### 浏览器兼容性

复制功能使用 `navigator.clipboard` API:
- ✅ Chrome 63+
- ✅ Firefox 53+
- ✅ Safari 13.1+
- ✅ Edge 79+
- ❌ IE 11 (不支持)

## 样式设计

### 颜色方案
- **背景**: 蓝色渐变 `from-blue-50 to-indigo-50`
- **标题**: 深灰色 `text-gray-800`
- **文字**: 中灰色 `text-gray-700`
- **按钮**: 白色背景,悬停时灰色 `bg-white hover:bg-gray-50`

### 交互效果
- **悬停高亮**: 鼠标悬停在文案上时背景变浅
- **光标变化**: 鼠标指针变为手型,提示可点击
- **过渡动画**: 所有颜色变化都有平滑过渡

## 自定义修改

### 修改文案内容

编辑 `components/InfoSidebar.tsx`:

```typescript
const keywordText = `您的新文案内容`;
const descriptionText = `您的新文案内容`;
```

### 修改侧边栏宽度

编辑 `components/ProductOptimizer.tsx`:

```typescript
// 将 400px 改为其他宽度
<div className="grid grid-cols-1 lg:grid-cols-[1fr_500px] gap-6">
```

### 修改背景颜色

编辑 `components/InfoSidebar.tsx`:

```typescript
// 更改渐变颜色
className="bg-gradient-to-br from-green-50 to-teal-50"
```

### 移动端显示

如果需要在移动端也显示侧边栏,移除 `hidden` 类:

```typescript
// 修改前
<div className="hidden lg:block">

// 修改后
<div className="block">
```

## 常见问题

### Q: 复制失败怎么办?

**A**: 请检查:
1. 浏览器版本是否支持 Clipboard API
2. 网站是否使用 HTTPS 协议(localhost 例外)
3. 浏览器是否允许剪贴板权限

### Q: 移动端看不到侧边栏?

**A**: 这是设计如此。移动端屏幕较小,侧边栏会自动隐藏以节省空间。如需显示,请参考"自定义修改"章节。

### Q: 文案格式乱了?

**A**: 使用 `whitespace-pre-line` CSS 类保持换行格式。确保文案字符串中使用 `\n` 或模板字符串的实际换行。

### Q: 如何添加第三种文案?

**A**: 在 `InfoSidebar.tsx` 中:

```typescript
interface InfoSidebarProps {
  type: 'keyword' | 'description' | 'custom';
}

// 添加新文案
const customText = `您的自定义文案`;

// 添加条件判断
const text = type === 'keyword' ? keywordText
  : type === 'description' ? descriptionText
  : customText;
```

## 性能优化

### 1. 按需渲染
侧边栏只在桌面端渲染,移动端完全不加载,节省资源。

### 2. 状态管理
使用 React Hooks 管理复制状态,避免不必要的重渲染。

### 3. 事件节流
复制操作会自动清除之前的定时器,避免重复触发。

## 未来优化方向

### 功能增强
- [ ] 添加分享到社交媒体功能
- [ ] 支持自定义文案模板
- [ ] 添加文案编辑功能
- [ ] 支持导出为 PDF

### 用户体验
- [ ] 添加复制动画效果
- [ ] 支持键盘快捷键复制
- [ ] 添加文案预览功能
- [ ] 支持多语言切换

### 技术升级
- [ ] 使用 Context 共享文案数据
- [ ] 添加单元测试
- [ ] 优化移动端体验
- [ ] 支持主题切换

---

**版本**: 1.0.0
**更新日期**: 2025-10-13
**开发者**: Claude Code
**兼容性**: Next.js 15.5.4+
