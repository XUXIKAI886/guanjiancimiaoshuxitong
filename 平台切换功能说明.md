# å¹³å°åˆ‡æ¢åŠŸèƒ½è¯´æ˜ - ç¾å›¢/é¥¿äº†ä¹ˆä¸€é”®åˆ‡æ¢

## åŠŸèƒ½æ¦‚è¿°

æ–°å¢**å¹³å°åˆ‡æ¢**åŠŸèƒ½,æ”¯æŒåœ¨**ç¾å›¢**å’Œ**é¥¿äº†ä¹ˆ**ä¸¤ç§æ¨¡å¼ä¹‹é—´ä¸€é”®åˆ‡æ¢ã€‚ä¸»è¦åŒºåˆ«åœ¨äºå…³é”®è¯ä¼˜åŒ–æ—¶,ç¾å›¢æ¨¡å¼å¸¦è¡¨æƒ…ç¬¦å·,é¥¿äº†ä¹ˆæ¨¡å¼ä¸å¸¦è¡¨æƒ…ç¬¦å·ã€‚

## åŠŸèƒ½ç‰¹æ€§

### 1. å¹³å°é€‰æ‹©

åœ¨é¡µé¢é¡¶éƒ¨æä¾›å¹³å°åˆ‡æ¢æŒ‰é’®:
- **ç¾å›¢**(é»„è‰²æŒ‰é’®): å…³é”®è¯ä¼˜åŒ–å¸¦è¡¨æƒ…ç¬¦å·
- **é¥¿äº†ä¹ˆ**(è“è‰²æŒ‰é’®): å…³é”®è¯ä¼˜åŒ–ä¸å¸¦è¡¨æƒ…ç¬¦å·

### 2. å…³é”®è¯ä¼˜åŒ–å·®å¼‚

#### ç¾å›¢æ¨¡å¼(é»˜è®¤)
```
è¾“å…¥: å¤é¸­æ¿è‚ (å°ä»½)
è¾“å‡º: å¤é¸­æ¿è‚ (å°ä»½)ã€ğŸ—å¤é¦™å››æº¢ã€‘

è¾“å…¥: å¤é¸­æ¿è‚ (å°ä»½)+å¤èœ(å°ä»½)
è¾“å‡º: å¤é¸­æ¿è‚ (å°ä»½)+å¤èœ(å°ä»½)ã€ğŸ±ç»„åˆä¸°å¯Œã€‘
```

**ç‰¹ç‚¹**:
- âœ… è¡¨æƒ…ç¬¦å· + å››å­—å–ç‚¹
- âœ… è§†è§‰å¸å¼•åŠ›å¼º
- âœ… é€‚åˆç¾å›¢å¹³å°é£æ ¼

#### é¥¿äº†ä¹ˆæ¨¡å¼
```
è¾“å…¥: å¤é¸­æ¿è‚ (å°ä»½)
è¾“å‡º: å¤é¸­æ¿è‚ (å°ä»½)ã€å¤é¦™å››æº¢ã€‘

è¾“å…¥: å¤é¸­æ¿è‚ (å°ä»½)+å¤èœ(å°ä»½)
è¾“å‡º: å¤é¸­æ¿è‚ (å°ä»½)+å¤èœ(å°ä»½)ã€ç»„åˆä¸°å¯Œã€‘
```

**ç‰¹ç‚¹**:
- âœ… çº¯æ–‡å­—å››å­—å–ç‚¹
- âœ… ç®€æ´ä¸“ä¸š
- âœ… ç¬¦åˆé¥¿äº†ä¹ˆå¹³å°è§„èŒƒ

### 3. äº§å“æè¿°ç”Ÿæˆ

**ä¸¤ä¸ªå¹³å°ä½¿ç”¨ç›¸åŒçš„æç¤ºè¯**:
- ç¾å›¢å’Œé¥¿äº†ä¹ˆçš„äº§å“æè¿°ç”Ÿæˆé€»è¾‘ä¸€è‡´
- éƒ½ç”Ÿæˆå¸å¼•äººçš„èœå“æè¿°æ–‡æ¡ˆ
- ä¸å—å¹³å°é€‰æ‹©å½±å“

## æŠ€æœ¯å®ç°

### 1. æ–°å¢æç¤ºè¯

**æ–‡ä»¶**: `lib/prompts.ts`

```typescript
// ç¾å›¢å…³é”®è¯ä¼˜åŒ–æç¤ºè¯(å¸¦è¡¨æƒ…ç¬¦å·)
export const KEYWORD_PROMPT_MEITUAN = `...`;

// é¥¿äº†ä¹ˆå…³é”®è¯ä¼˜åŒ–æç¤ºè¯(æ— è¡¨æƒ…ç¬¦å·)
export const KEYWORD_PROMPT_ELEME = `...`;

// äº§å“æè¿°æç¤ºè¯(ä¸¤ä¸ªå¹³å°é€šç”¨)
export const DESCRIPTION_PROMPT = `...`;
```

### 2. API å‡½æ•°ä¿®æ”¹

**æ–‡ä»¶**: `lib/api.ts`

```typescript
// æ–°å¢å¹³å°ç±»å‹
export type Platform = 'meituan' | 'eleme';

// ä¿®æ”¹å‡½æ•°ç­¾å,å¢åŠ å¹³å°å‚æ•°
export async function optimizeKeywords(
  keywords: string[],
  platform: Platform = 'meituan', // é»˜è®¤ç¾å›¢
  onProgress?: (index: number, total: number) => void
): Promise<string[]> {
  // æ ¹æ®å¹³å°é€‰æ‹©æç¤ºè¯
  const keywordPrompt = platform === 'eleme'
    ? KEYWORD_PROMPT_ELEME
    : KEYWORD_PROMPT_MEITUAN;

  // ä½¿ç”¨é€‰å®šçš„æç¤ºè¯è°ƒç”¨AI
  const output = await callAI(keywordPrompt, input);
  // ...
}
```

### 3. UI ç»„ä»¶ä¿®æ”¹

**æ–‡ä»¶**: `components/ProductOptimizer.tsx`

```typescript
// æ–°å¢å¹³å°çŠ¶æ€
const [platform, setPlatform] = useState<Platform>('meituan');

// å¹³å°åˆ‡æ¢æŒ‰é’®
<div className="flex gap-2">
  <button
    onClick={() => setPlatform('meituan')}
    className={platform === 'meituan' ? 'bg-yellow-500 text-white' : '...'}
  >
    ç¾å›¢ (å¸¦è¡¨æƒ…)
  </button>
  <button
    onClick={() => setPlatform('eleme')}
    className={platform === 'eleme' ? 'bg-blue-500 text-white' : '...'}
  >
    é¥¿äº†ä¹ˆ (æ— è¡¨æƒ…)
  </button>
</div>

// è°ƒç”¨APIæ—¶ä¼ å…¥å¹³å°å‚æ•°
optimizedLines = await optimizeKeywords(lines, platform);
```

## ä½¿ç”¨æŒ‡å—

### æ“ä½œæ­¥éª¤

1. **é€‰æ‹©å¹³å°**
   - ç‚¹å‡»é¡µé¢é¡¶éƒ¨çš„"ç¾å›¢"æˆ–"é¥¿äº†ä¹ˆ"æŒ‰é’®
   - æŒ‰é’®ä¼šé«˜äº®æ˜¾ç¤ºå½“å‰é€‰ä¸­çš„å¹³å°

2. **è¾“å…¥æ•°æ®**
   - ä¸Šä¼  Excel æ–‡ä»¶,æˆ–
   - æ‰‹åŠ¨è¾“å…¥äº§å“åç§°

3. **å¼€å§‹ä¼˜åŒ–**
   - ç‚¹å‡»"å¼€å§‹ä¼˜åŒ–"æˆ–"å¼€å§‹ç”Ÿæˆ"
   - ç³»ç»Ÿä¼šæ ¹æ®é€‰å®šçš„å¹³å°ä½¿ç”¨å¯¹åº”çš„æç¤ºè¯

4. **æŸ¥çœ‹ç»“æœ**
   - ç¾å›¢æ¨¡å¼:ç»“æœä¸­åŒ…å«è¡¨æƒ…ç¬¦å·
   - é¥¿äº†ä¹ˆæ¨¡å¼:ç»“æœä¸­ä¸åŒ…å«è¡¨æƒ…ç¬¦å·

5. **å¯¼å‡ºæ•°æ®**
   - å¯¼å‡ºçš„ Excel æˆ–å›¾ç‰‡ä¼šåŒ…å«å¯¹åº”å¹³å°çš„ä¼˜åŒ–ç»“æœ

### ä½¿ç”¨å»ºè®®

#### ä½•æ—¶é€‰æ‹©ç¾å›¢æ¨¡å¼?

- âœ… åœ¨ç¾å›¢å¹³å°å¼€åº—
- âœ… å¸Œæœ›å…³é”®è¯æ›´é†’ç›®ã€æ›´æœ‰è§†è§‰å†²å‡»åŠ›
- âœ… ç›®æ ‡ç”¨æˆ·å–œæ¬¢æ´»æ³¼ç”ŸåŠ¨çš„æ–‡æ¡ˆé£æ ¼
- âœ… éœ€è¦å¿«é€Ÿå¸å¼•é¡¾å®¢æ³¨æ„åŠ›

#### ä½•æ—¶é€‰æ‹©é¥¿äº†ä¹ˆæ¨¡å¼?

- âœ… åœ¨é¥¿äº†ä¹ˆå¹³å°å¼€åº—
- âœ… å¹³å°ä¸æ”¯æŒæˆ–é™åˆ¶è¡¨æƒ…ç¬¦å·
- âœ… å¸Œæœ›ä¿æŒç®€æ´ä¸“ä¸šçš„é£æ ¼
- âœ… ç›®æ ‡ç”¨æˆ·åå¥½ç®€å•ç›´æ¥çš„è¡¨è¾¾

## æç¤ºè¯å·®å¼‚è¯¦è§£

### æ ¸å¿ƒå·®å¼‚ç‚¹

| å¯¹æ¯”é¡¹ | ç¾å›¢æ¨¡å¼ | é¥¿äº†ä¹ˆæ¨¡å¼ |
|--------|---------|-----------|
| è¡¨æƒ…ç¬¦å· | âœ… ä½¿ç”¨ | âŒ ç¦ç”¨ |
| è¾“å‡ºæ ¼å¼ | æ ‡é¢˜ã€ğŸ—å–ç‚¹ã€‘ | æ ‡é¢˜ã€å–ç‚¹ã€‘ |
| è§†è§‰æ•ˆæœ | ç”ŸåŠ¨æ´»æ³¼ | ç®€æ´ä¸“ä¸š |
| é€‚ç”¨åœºæ™¯ | ç¾å›¢å¹³å° | é¥¿äº†ä¹ˆå¹³å° |

### ç¾å›¢æç¤ºè¯å…³é”®ç‚¹

```markdown
## Goals:
3. é€šè¿‡è¡¨æƒ…ç¬¦å·æå‡å…³é”®è¯çš„è§†è§‰å¸å¼•åŠ›å’Œè®°å¿†ç‚¹

## Constrains:
5. è¡¨æƒ…ç¬¦å·éœ€ä¸å–ç‚¹å¼ºç›¸å…³(å¦‚å¤å‘³å•å“ç”¨ğŸ—,å¥—é¤ç”¨ğŸ±)

## OutputFormat:
2. è¾“å‡ºæ ¼å¼ä¸º "å®Œæ•´æ ‡é¢˜ +ã€è¡¨æƒ…ç¬¦å· + å››å­—å–ç‚¹ã€‘"
4. è¡¨æƒ…ç¬¦å·ä½äºå››å­—å–ç‚¹å‰(å¦‚ã€ğŸ±ç»„åˆä¸°å¯Œã€‘)
```

### é¥¿äº†ä¹ˆæç¤ºè¯å…³é”®ç‚¹

```markdown
## Goals:
3. è¾“å‡ºç»“æœç®€æ´æ˜“è¯»,é€‚é…é¥¿äº†ä¹ˆå¹³å°ä½¿ç”¨(æ— è¡¨æƒ…ç¬¦å·)

## Constrains:
5. **ç¦æ­¢ä½¿ç”¨ä»»ä½•è¡¨æƒ…ç¬¦å·**,è¿™æ˜¯é¥¿äº†ä¹ˆå¹³å°çš„è¦æ±‚

## OutputFormat:
2. è¾“å‡ºæ ¼å¼ä¸º "å®Œæ•´æ ‡é¢˜ +ã€å››å­—å–ç‚¹ã€‘",**ç¦æ­¢ä½¿ç”¨è¡¨æƒ…ç¬¦å·**
4. ã€ã€‘å†…åªæœ‰å››å­—å–ç‚¹,æ— è¡¨æƒ…ç¬¦å·
```

## æµ‹è¯•ç”¨ä¾‹

### æµ‹è¯•åœºæ™¯ 1: å•å“ä¼˜åŒ–

**è¾“å…¥**:
```
ç‰›è‚‰ç²‰ä¸æ±¤
ç‰›æ‚ç²‰ä¸æ±¤
```

**ç¾å›¢æ¨¡å¼è¾“å‡º**:
```
ç‰›è‚‰ç²‰ä¸æ±¤ã€ğŸœé²œé¦™æµ“éƒã€‘
ç‰›æ‚ç²‰ä¸æ±¤ã€ğŸœç‰›æ‚ä¸°å¯Œã€‘
```

**é¥¿äº†ä¹ˆæ¨¡å¼è¾“å‡º**:
```
ç‰›è‚‰ç²‰ä¸æ±¤ã€é²œé¦™æµ“éƒã€‘
ç‰›æ‚ç²‰ä¸æ±¤ã€ç‰›æ‚ä¸°å¯Œã€‘
```

### æµ‹è¯•åœºæ™¯ 2: å¥—é¤ä¼˜åŒ–

**è¾“å…¥**:
```
ç‰›è‚‰ç²‰ä¸æ±¤+æ²¹è±†è…(å¤§ä»½)
ç‰›æ‚ç²‰ä¸æ±¤+æ²¹é…¥çƒ§é¥¼2ä¸ª
```

**ç¾å›¢æ¨¡å¼è¾“å‡º**:
```
ç‰›è‚‰ç²‰ä¸æ±¤+æ²¹è±†è…(å¤§ä»½)ã€ğŸ±è¥å…»ä¸°å¯Œã€‘
ç‰›æ‚ç²‰ä¸æ±¤+æ²¹é…¥çƒ§é¥¼2ä¸ªã€ğŸ”ç»å…¸æ­é…ã€‘
```

**é¥¿äº†ä¹ˆæ¨¡å¼è¾“å‡º**:
```
ç‰›è‚‰ç²‰ä¸æ±¤+æ²¹è±†è…(å¤§ä»½)ã€è¥å…»ä¸°å¯Œã€‘
ç‰›æ‚ç²‰ä¸æ±¤+æ²¹é…¥çƒ§é¥¼2ä¸ªã€ç»å…¸æ­é…ã€‘
```

### æµ‹è¯•åœºæ™¯ 3: æ··åˆå†…å®¹

**è¾“å…¥**:
```
å¤é¸­æ¿è‚ (å°ä»½)
è¯´æ˜:é»˜è®¤æ·»åŠ é¦™èœ,å¿Œå£è¯·å¤‡æ³¨
å¤é¸­æ¿è‚ (å¤§ä»½)
```

**ç¾å›¢æ¨¡å¼è¾“å‡º**:
```
å¤é¸­æ¿è‚ (å°ä»½)ã€ğŸ—å¤é¦™å››æº¢ã€‘
è¯´æ˜:é»˜è®¤æ·»åŠ é¦™èœ,å¿Œå£è¯·å¤‡æ³¨
å¤é¸­æ¿è‚ (å¤§ä»½)ã€ğŸ—åˆ†é‡åè¶³ã€‘
```

**é¥¿äº†ä¹ˆæ¨¡å¼è¾“å‡º**:
```
å¤é¸­æ¿è‚ (å°ä»½)ã€å¤é¦™å››æº¢ã€‘
è¯´æ˜:é»˜è®¤æ·»åŠ é¦™èœ,å¿Œå£è¯·å¤‡æ³¨
å¤é¸­æ¿è‚ (å¤§ä»½)ã€åˆ†é‡åè¶³ã€‘
```

## å¸¸è§é—®é¢˜

### Q: å¹³å°åˆ‡æ¢åéœ€è¦é‡æ–°ä¸Šä¼  Excel å—?

**A**: ä¸éœ€è¦ã€‚å·²ç»ä¸Šä¼ çš„æ•°æ®ä¼šä¿ç•™åœ¨è¾“å…¥æ¡†ä¸­,åˆ‡æ¢å¹³å°åç›´æ¥ç‚¹å‡»"å¼€å§‹ä¼˜åŒ–"å³å¯ä½¿ç”¨æ–°çš„å¹³å°æ¨¡å¼ç”Ÿæˆç»“æœã€‚

### Q: å¯ä»¥åŒæ—¶ç”Ÿæˆä¸¤ä¸ªå¹³å°çš„ç»“æœå—?

**A**: å¯ä»¥ã€‚åˆ†ä¸¤æ¬¡æ“ä½œ:
1. é€‰æ‹©ç¾å›¢,ç‚¹å‡»"å¼€å§‹ä¼˜åŒ–",å¯¼å‡ºç»“æœ
2. é€‰æ‹©é¥¿äº†ä¹ˆ,å†æ¬¡ç‚¹å‡»"å¼€å§‹ä¼˜åŒ–",å¯¼å‡ºç»“æœ

### Q: äº§å“æè¿°ç”Ÿæˆå—å¹³å°å½±å“å—?

**A**: ä¸å—å½±å“ã€‚äº§å“æè¿°ç”ŸæˆåŠŸèƒ½å¯¹ç¾å›¢å’Œé¥¿äº†ä¹ˆä½¿ç”¨ç›¸åŒçš„æç¤ºè¯,ç”Ÿæˆçš„æè¿°æ–‡æ¡ˆæ˜¯ä¸€æ ·çš„ã€‚

### Q: å¦‚ä½•åˆ¤æ–­å½“å‰é€‰ä¸­çš„æ˜¯å“ªä¸ªå¹³å°?

**A**: æŸ¥çœ‹å¹³å°åˆ‡æ¢æŒ‰é’®çš„é¢œè‰²:
- é»„è‰²é«˜äº® â†’ ç¾å›¢æ¨¡å¼
- è“è‰²é«˜äº® â†’ é¥¿äº†ä¹ˆæ¨¡å¼

### Q: å¹³å°è®¾ç½®ä¼šè¢«ä¿å­˜å—?

**A**: ä¸ä¼šã€‚åˆ·æ–°é¡µé¢åä¼šæ¢å¤ä¸ºé»˜è®¤çš„ç¾å›¢æ¨¡å¼ã€‚å¦‚æœéœ€è¦ä¿å­˜ç”¨æˆ·åå¥½,å¯ä»¥ä½¿ç”¨ localStorage å®ç°ã€‚

### Q: æ‰¹é‡å¤„ç†æ—¶å¹³å°ä¼šåˆ‡æ¢å—?

**A**: ä¸ä¼šã€‚ä¸€æ—¦å¼€å§‹å¤„ç†,å°±ä¼šä½¿ç”¨å½“å‰é€‰å®šçš„å¹³å°æ¨¡å¼å¤„ç†æ‰€æœ‰æ•°æ®,å³ä½¿ä¸­é€”åˆ‡æ¢æŒ‰é’®ä¹Ÿä¸ä¼šå½±å“æ­£åœ¨è¿›è¡Œçš„å¤„ç†ã€‚

## æŠ€æœ¯ç»†èŠ‚

### å‘åå…¼å®¹æ€§

```typescript
// é»˜è®¤ä½¿ç”¨ç¾å›¢æç¤ºè¯(ä¿æŒå‘åå…¼å®¹)
export const KEYWORD_PROMPT = KEYWORD_PROMPT_MEITUAN;

// å‡½æ•°å‚æ•°é»˜è®¤å€¼ä¹Ÿæ˜¯ç¾å›¢
export async function optimizeKeywords(
  keywords: string[],
  platform: Platform = 'meituan', // é»˜è®¤ç¾å›¢
  onProgress?: (index: number, total: number) => void
)
```

**å…¼å®¹æ€§ä¿è¯**:
- âœ… æ—§ä»£ç ä¸ä¼  platform å‚æ•°æ—¶,é»˜è®¤ä½¿ç”¨ç¾å›¢æ¨¡å¼
- âœ… ä¸ä¼šç ´åç°æœ‰åŠŸèƒ½
- âœ… å¹³æ»‘å‡çº§,æ— éœ€ä¿®æ”¹æ—§ä»£ç 

### æ‰¹é‡å¤„ç†æ”¯æŒ

```typescript
// å°æ‰¹é‡å¤„ç†
const keywordPrompt = platform === 'eleme' ? KEYWORD_PROMPT_ELEME : KEYWORD_PROMPT_MEITUAN;
const output = await callAI(keywordPrompt, input);

// å¤§æ‰¹é‡åˆ†æ‰¹å¤„ç†
for (let i = 0; i < batchCount; i++) {
  const output = await callAI(keywordPrompt, batch.join('\n')); // æ¯æ‰¹éƒ½ä½¿ç”¨åŒä¸€ä¸ªæç¤ºè¯
}
```

**ä¸€è‡´æ€§ä¿è¯**:
- âœ… æ‰€æœ‰æ‰¹æ¬¡ä½¿ç”¨ç›¸åŒçš„å¹³å°æç¤ºè¯
- âœ… ä¸ä¼šå‡ºç°éƒ¨åˆ†æœ‰è¡¨æƒ…ç¬¦å·,éƒ¨åˆ†æ²¡æœ‰çš„æƒ…å†µ
- âœ… å¤„ç†è¿‡ç¨‹ä¸­å¹³å°æ¨¡å¼ä¿æŒä¸å˜

## æœªæ¥æ‰©å±•

### è®¡åˆ’åŠŸèƒ½

1. **ä¿å­˜ç”¨æˆ·åå¥½**
   - ä½¿ç”¨ localStorage è®°ä½ç”¨æˆ·çš„å¹³å°é€‰æ‹©
   - ä¸‹æ¬¡æ‰“å¼€é¡µé¢è‡ªåŠ¨ä½¿ç”¨ä¸Šæ¬¡çš„è®¾ç½®

2. **æ›´å¤šå¹³å°æ”¯æŒ**
   - æŠ–éŸ³å¤–å–
   - äº¬ä¸œåˆ°å®¶
   - å…¶ä»–å¤–å–å¹³å°

3. **è‡ªå®šä¹‰è§„åˆ™**
   - å…è®¸ç”¨æˆ·è‡ªå®šä¹‰è¡¨æƒ…ç¬¦å·åº“
   - å…è®¸ç”¨æˆ·è‡ªå®šä¹‰å–ç‚¹é£æ ¼
   - å…è®¸ç”¨æˆ·è°ƒæ•´è¾“å‡ºæ ¼å¼

4. **å¹³å°æ£€æµ‹**
   - æ ¹æ®ä¸Šä¼ çš„ Excel æ–‡ä»¶è‡ªåŠ¨è¯†åˆ«å¹³å°
   - æ™ºèƒ½æ¨èæœ€é€‚åˆçš„å¹³å°æ¨¡å¼

## æ›´æ–°è®°å½•

- **2025-10-13 23:50**: åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
  - æ–°å¢ç¾å›¢/é¥¿äº†ä¹ˆå¹³å°åˆ‡æ¢åŠŸèƒ½
  - æ–°å¢ KEYWORD_PROMPT_ELEME æç¤ºè¯
  - ä¿®æ”¹ optimizeKeywords å‡½æ•°æ”¯æŒå¹³å°å‚æ•°
  - æ·»åŠ  UI å¹³å°åˆ‡æ¢æŒ‰é’®
  - ä¿æŒå‘åå…¼å®¹æ€§

---

**åŠŸèƒ½çŠ¶æ€**: âœ… å·²å®Œæˆ
**æµ‹è¯•çŠ¶æ€**: â³ å¾…ç”¨æˆ·æµ‹è¯•
**å½±å“èŒƒå›´**: å…³é”®è¯ä¼˜åŒ–åŠŸèƒ½
**å‘åå…¼å®¹**: âœ… å®Œå…¨å…¼å®¹
**å»ºè®®**: æ ¹æ®å®é™…ä½¿ç”¨çš„å¤–å–å¹³å°é€‰æ‹©å¯¹åº”æ¨¡å¼
